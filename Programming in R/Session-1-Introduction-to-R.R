
## --------------------------------------------------------------------------------------------------------------------------------

2 + 2

## --------------------------------------------------------------------------------------------------------------------------------

var_logical = TRUE
class(var_logical)

## --------------------------------------------------------------------------------------------------------------------------------

vector_logical = c(TRUE, FALSE, TRUE)
class(vector_logical)

## --------------------------------------------------------------------------------------------------------------------------------

vector_logical[2]
is.logical(vector_logical)

## --------------------------------------------------------------------------------------------------------------------------------

vector_logical[4]
is.logical(vector_logical[4])

## --------------------------------------------------------------------------------------------------------------------------------

var_int = 2L
class(var_int)

## --------------------------------------------------------------------------------------------------------------------------------

is.integer(var_int)

## --------------------------------------------------------------------------------------------------------------------------------

is.numeric(var_int)

## --------------------------------------------------------------------------------------------------------------------------------

length(var_int)

## --------------------------------------------------------------------------------------------------------------------------------

var_int

## --------------------------------------------------------------------------------------------------------------------------------

var_int[1]

## --------------------------------------------------------------------------------------------------------------------------------

vector_int = c(var_int, 3L, 8L, 13:18)
class(vector_int)

## --------------------------------------------------------------------------------------------------------------------------------

vector_int

## --------------------------------------------------------------------------------------------------------------------------------

length(vector_int)

## --------------------------------------------------------------------------------------------------------------------------------

vector_int[10]

## --------------------------------------------------------------------------------------------------------------------------------

class(vector_int[10])

## --------------------------------------------------------------------------------------------------------------------------------

var_double = 3.14
class(var_double)

## --------------------------------------------------------------------------------------------------------------------------------

is.double(var_double)

## --------------------------------------------------------------------------------------------------------------------------------

is.numeric(var_double)

## --------------------------------------------------------------------------------------------------------------------------------

var_inf = var_double/0
var_inf

## --------------------------------------------------------------------------------------------------------------------------------

var_nan = 0/0 
var_nan

## --------------------------------------------------------------------------------------------------------------------------------

class(c(var_inf, var_nan))

## --------------------------------------------------------------------------------------------------------------------------------

a = 5.2
b = 1.7
c = complex(real = a, imaginary = b) 
c

## --------------------------------------------------------------------------------------------------------------------------------

class(c)

## --------------------------------------------------------------------------------------------------------------------------------

Re(c)
Im(c)
Mod(c)

## --------------------------------------------------------------------------------------------------------------------------------

Arg(c)
Conj(c)
sqrt(c)

## --------------------------------------------------------------------------------------------------------------------------------

var_chr1 = "Hello"
var_chr2 = "World"
class(var_chr1)

c(var_chr1, var_chr2)

paste(var_chr1, var_chr2)

## --------------------------------------------------------------------------------------------------------------------------------

var_raw = as.raw(40) 
var_raw

## --------------------------------------------------------------------------------------------------------------------------------

vect_raw = charToRaw("Hello world") 
vect_raw

## --------------------------------------------------------------------------------------------------------------------------------

rawToChar(vect_raw[1:4])
class(vect_raw[1:4])

## --------------------------------------------------------------------------------------------------------------------------------

my.contact = list(
name = "Juan C",
gitpage = "http://github.com/jlaria",
age = 26,
tags = c("#data-science", "#r", "#python")
)
my.contact

## --------------------------------------------------------------------------------------------------------------------------------

my.contact$tags

class(my.contact$tags)

## --------------------------------------------------------------------------------------------------------------------------------

risk = factor(c("hi", "hi", "lo", "med", "lo", "hi")) 
risk

## --------------------------------------------------------------------------------------------------------------------------------

class(risk)
levels(risk)

## --------------------------------------------------------------------------------------------------------------------------------

risk = factor(c("hi", "hi", "lo", "med", "lo", "hi"), levels=c("lo", "med", "hi"), 
ordered = T) 
risk

## --------------------------------------------------------------------------------------------------------------------------------

vect_logical = c(TRUE, FALSE)
vect_logical

vect_char = c("a", "b", "ca")
vect_char

vect_int = c(1L, 3L, 20L)
vect_int

vect_double = c(1.3, 4.5, 3.4, 5.4)
vect_double

## --------------------------------------------------------------------------------------------------------------------------------

x = vector("numeric",length=10)
x
x = vector("logical",length=10)
x

## --------------------------------------------------------------------------------------------------------------------------------

vect = c(2, 4, 5, 8, 9, 10)

## --------------------------------------------------------------------------------------------------------------------------------

vect = seq(1, 20, 2)

## --------------------------------------------------------------------------------------------------------------------------------

vect[3]

## --------------------------------------------------------------------------------------------------------------------------------

vect[3] = -2

## --------------------------------------------------------------------------------------------------------------------------------

vect[c(1, 3)]

## --------------------------------------------------------------------------------------------------------------------------------

vect[seq(1, length(vect), 2)]

## --------------------------------------------------------------------------------------------------------------------------------

new_vect = vect[vect>8]
new_vect

is.vector(vect)
length(vect)

## --------------------------------------------------------------------------------------------------------------------------------

vect1 = 1:5
vect1

vect2 = 6:10
vect2

vect_sum = vect1+vect2  # sum
vect_sum

vect_subst = vect1-vect2         # substraction
vect_subst

vect_product_pointwise = vect1*vect2   # pointwise product
vect_product_pointwise

vect_div_pointwise = vect1/vect2 # pointwise division
vect_div_pointwise

vect_pow = vect1^2   # pointwise power of two
vect_pow

sum(vect1) # sum of all elements of the vect

length(vect1)

vect1%*%vect2   # inner product: equal to sum(vect1*vect2)

vect1==3

vect1>3 & vect2>=9

## --------------------------------------------------------------------------------------------------------------------------------

vect1 = c(1, 2, 3, 4)
names(vect1) = c("x1", "x2", "x3", "x4")

## --------------------------------------------------------------------------------------------------------------------------------

vect2 = c(x1=1, x2=2, x3=3, x4=4)

## --------------------------------------------------------------------------------------------------------------------------------

vect1[3]

vect1["x3"]

## --------------------------------------------------------------------------------------------------------------------------------

X = matrix(1:8, nrow = 2, ncol = 4) 
X

## --------------------------------------------------------------------------------------------------------------------------------

dim(X)
ncol(X)
nrow(X)

## --------------------------------------------------------------------------------------------------------------------------------

t(X)
rownames(X) = c("obs 1", "obs 2")
colnames(X) = paste0("var",1:4)
X

## --------------------------------------------------------------------------------------------------------------------------------

x = 1:4
y = 5:8
cbind(x,y)
rbind(x,y)

## --------------------------------------------------------------------------------------------------------------------------------

A = array(1:24, dim = c(2,4,3)) 
A

## --------------------------------------------------------------------------------------------------------------------------------

vector_int
vector_int[9]
vector_int[c(2,9)]
X[2,1]
X["obs 2", "var1"]

## --------------------------------------------------------------------------------------------------------------------------------

namedvector_int = c(1, 1, 2, 3, 5)
names(namedvector_int) = c("day 1", "day 2", "day 3", "day 4", "day 5")
namedvector_int["day 1"]
namedvector_int[c("day 5", "day 2")]

## --------------------------------------------------------------------------------------------------------------------------------

my.contact[4] 
class(my.contact[4])

## --------------------------------------------------------------------------------------------------------------------------------

my.contact[[1]]
class(my.contact[[1]])

## --------------------------------------------------------------------------------------------------------------------------------

my.contact$name
my.contact$"age"

## --------------------------------------------------------------------------------------------------------------------------------

a = c(1, 3, 4, -1, 2)
b = c(1, 2, 4, 8, 16)
a[b]
b[-4]
b[]

## --------------------------------------------------------------------------------------------------------------------------------

x = 2 
a = 1
y = 2 * (a + log(x)) 
y

## --------------------------------------------------------------------------------------------------------------------------------

x = c(1, -1, 3)
y = c(2, 4, 6)
x-y

## --------------------------------------------------------------------------------------------------------------------------------

x+y

## --------------------------------------------------------------------------------------------------------------------------------

b = c(T, F, T)
!b

## --------------------------------------------------------------------------------------------------------------------------------

z = 3:8
z

z = seq(3, 8, 1)

## --------------------------------------------------------------------------------------------------------------------------------

x*y
2*z

## --------------------------------------------------------------------------------------------------------------------------------

x*z    # Be careful!

## --------------------------------------------------------------------------------------------------------------------------------

x/y

## --------------------------------------------------------------------------------------------------------------------------------

x^y

## --------------------------------------------------------------------------------------------------------------------------------

7%%5
7%/%5

## --------------------------------------------------------------------------------------------------------------------------------

x %*% y

## --------------------------------------------------------------------------------------------------------------------------------

x %in% z

## --------------------------------------------------------------------------------------------------------------------------------

x < y

y > x

x == y

## --------------------------------------------------------------------------------------------------------------------------------

c(T, F, T) & c(F, F, T)

c(T, F, T) | c(F, F, T)

## --------------------------------------------------------------------------------------------------------------------------------

a <- 1
a

## --------------------------------------------------------------------------------------------------------------------------------

X = matrix(rnorm(4*6), nrow = 4, ncol = 6)
X

## --------------------------------------------------------------------------------------------------------------------------------

col.sums = apply(X, 2, sum)
col.sums

## --------------------------------------------------------------------------------------------------------------------------------

col.sums_for = rep(0, 6)   # declare it
for(j in 1:6){
   col.sums_for[j] = sum(X[,j])
}
col.sums_for

## --------------------------------------------------------------------------------------------------------------------------------

df = data.frame(name = c("Juan", "Pedro", "María"),
age = c(26, 33, 22),
phone = c("666-849334", "666-837489", "666-029340") )
df

## --------------------------------------------------------------------------------------------------------------------------------

X = matrix(1:8, nrow = 2, ncol = 4)
df = data.frame(X)
df

## --------------------------------------------------------------------------------------------------------------------------------

colnames(df) = paste0("Col", 1:4)
rownames(df) = paste0("Obs", 1:2)
df

## --------------------------------------------------------------------------------------------------------------------------------

df = data.frame(matrix(rnorm(40), nrow=5, ncol=8))
df$X1 = NULL         # delete column 1
df

## --------------------------------------------------------------------------------------------------------------------------------

df[,c(3,6)] = NULL   # delete columns 3 and 6
df

df = df[-1, ]     # remove row 1
df

df = df[,-c(4:6)] # remove columns 4, 5, 6
df

df[2,] = -10      # edit row 2
df

df$X5 = 5     # edit column X5
df

## --------------------------------------------------------------------------------------------------------------------------------

df1 = data.frame(name = c("Pedro", "María"),
age = c(33, 22),
phone = c("666-837489", "666-029340") )
df2 = data.frame(name = c("Juan"),
age = c(26),
phone = c("666-849334") )

rbind(df1, df2)

## --------------------------------------------------------------------------------------------------------------------------------

df1 = data.frame(name = c("Juan", "Pedro", "María"),
age = c(26, 33, 22))
df2 = data.frame( phone = c("666-849334", "666-837489", "666-029340") )
cbind(df1, df2)

## --------------------------------------------------------------------------------------------------------------------------------

getwd()

## --------------------------------------------------------------------------------------------------------------------------------

f = function(args){
body
}

## --------------------------------------------------------------------------------------------------------------------------------

sapply(1:2, function(x) x + 1)

## --------------------------------------------------------------------------------------------------------------------------------

add = function(x, y){
return(x+y)
}
add(2,2)

## --------------------------------------------------------------------------------------------------------------------------------

add = function(x, y){
  x+y
}
add(2,2)

## --------------------------------------------------------------------------------------------------------------------------------

wlog = function(x){
write(paste0(date(), "\t", x), "")   # write output in the console
}
x = 3.14
wlog("Hello world")
wlog(x)

## --------------------------------------------------------------------------------------------------------------------------------

wlog = function(x, y=5){
 write(paste0(date(), "\t", x, "\t", y), "")
}
wlog(1.2)
wlog(1.2, 2.4)

## --------------------------------------------------------------------------------------------------------------------------------

wlog = function(x, y=NULL){
write(paste0(date(), "\t", x, "\t", y), "")
}
wlog(1.2)
wlog(1.2, 2.4)

## --------------------------------------------------------------------------------------------------------------------------------

wlog = function(..., printdate=T){
write(paste0(
{if(printdate)date() else NULL},
...), "")
}
wlog("\tHello world")

wlog(printdate = F, "Hello world!")

wlog("\t x = ",2, "\t y = ", 5, "\t x + y = ", 2+5, "\t FIN.")

## --------------------------------------------------------------------------------------------------------------------------------

theta = seq(0, 0.2, length=100)
lik = dbinom(8, 145, theta)

plot(theta, lik, type='l', xlab=expression(theta), ylab="likelihood")

## --------------------------------------------------------------------------------------------------------------------------------

x = 8; n = 145

L = function(theta, x){dbinom(x, size=n, prob=theta)}

optimize(L, interval=c(0,1), x=x, maximum=TRUE)

## --------------------------------------------------------------------------------------------------------------------------------

set.seed(666)

N = 100
x = rnorm(N, mean = 3, sd = 2)

mean(x)
sd(x)

## --------------------------------------------------------------------------------------------------------------------------------

LL = function(mu, sigma) {
	  R = dnorm(x, mu, sigma)
     -sum(log(R))
}

library(stats4)
mle(LL, start=list(mu=1, sigma=1), method="L-BFGS-B", lower=c(-Inf, 0), upper=c(Inf, Inf))

